/** * Created by ID on 15/11/10. * Author:zhoudd * email:zhoudd@stark.tm * * * 嵌套路由中子路由的state 前缀必须是父路由开头 *  onEnter 在跳转到路由前执行。 * *  onExit 离开路由前 * */var app = angular.module('app', ['ui.router', 'ui.mask']);app.config(function ($stateProvider, $urlRouterProvider) {    $stateProvider        .state('start', {            url: '/start',            template: '<h1> welcome to your start </h1>',            onEnter: function () {                console.log('onEnter');                alert('onEnter');            },            onExit: function () {                console.log('onExit')                alert('exit');            }        })        .state('inbox', {            url: '/inbox/:inboxId',            template: '<h1>welcome to your inbox {{inboxId}}</h1>' +            '<a ui-sref="inbox.priority"> show priority</a>' +            '<div ui-view></div>',            controller: function ($scope, $stateParams) {                $scope.$on('$stateChangeStart', function (evt, toState, roParams, fromState, formParams) {                    console.log("$stateChangeStart");                    //evt.preventDefault(); //阻止了状态的切换，不会切换到下一个状态                });                $scope.inboxId = $stateParams.inboxId;            }        })        .state('inbox.priority', {            url: '/priority',            template: '<h2>your priority inbox</h2>'        })        .state('index', {            url: '/index',            templateUrl: '/index.html',            onEnter: function () {                console.log('onEnter');                alert('onEnter');            },            onExit: function () {                console.log('onExit')                alert('exit');            }        })        .state('abstract', {            url: '/abstract',            abstract: true,            template: '<h1>abstract</h1><br>' +            '<div ui-view="a"></div>'        })        .state('abstract.a', {            url: '/a',            views: {                'a': {                    template: '<h1>abstract.a</h1>'                }            }        })        .state('admin', {            abstract: true,            url: '/admin',            template: '<div>'        })});app.controller('appController', function ($scope) {    $scope.submitForm = function () {        console.log('submit');    }});