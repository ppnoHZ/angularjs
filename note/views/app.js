/** * Created by ID on 15/11/12. * Author:zhoudd * email:zhoudd@stark.tm */angular.module('note', ['noteRouter', 'ngStorage'])    .config(function ($httpProvider) {        $httpProvider.defaults.useXDomain = true;    })    .value('FBid', '231231231')    .constant('ServerUrl', {        Register: 'http://192.168.3.104:18080/account/signUp',        Login: 'http://192.168.3.104:18080/account/login'    })    .controller('HomeController', function ($scope, $http) {        $http            .post("/note/find", {token: window.localStorage.getItem("token")})            .success(function (data) {                $scope.notes = data.notes;            })        $scope.submitForm = function () {            console.log(window.localStorage.getItem("token"));            $http                .post("/note/add", {text: $scope.text, token: window.localStorage.getItem("token")})                .success(function (data) {                    console.log(data);                })                .error(function (error) {                    console.log(error);                })        }    })    //.controller('LayoutController', function ($scope) {    //    $scope.token = window.localStorage.getItem('ngStorage-token');    //})    .controller('RegisterController', function ($scope, $location,                                                $http,                                                $localStorage,                                                $window,                                                $sessionStorage) {        //$scope.$storage = $localStorage.$default({        //    token: ''        //});        $scope.submitForm = function () {            if (!$scope.userName || !$scope.password || !$scope.password2 || !$scope.nickName) {                return;            } else {                if ($scope.password != $scope.password2) {                    return;                }            }            $http                .post("/account/signup", {                    username: $scope.userName,                    password: $scope.password,                    nickName: $scope.nickName                })                .success(function (data) {                    console.log(data);                    //$scope.$storage.token = data.token;                    $window.localStorage.setItem('token', data.token);                    $location.path('/home');                })                .error(function (error) {                    console.log('error', error);                })        }    })angular.module('noteRouter', ['ngRoute'])    .config(['$routeProvider','$locationProvider', function ($routeProvider,$locationProvider) {        //$routeProvider.hasOwnProperty('!');        $routeProvider.when('/home', {            templateUrl: 'view/home.html',            controller: 'HomeController'        });        $routeProvider.when('/register', {            templateUrl: 'view/register.html',            controller: 'RegisterController'        })        $locationProvider.html5Mode(true);    }])